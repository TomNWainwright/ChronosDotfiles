var INITIAL_VALUE_ATTRIBUTE="com.onepassword.iv";function isFirefox(){return!1}function ag_focusField(e,t){if(!e)return!1;let l=e.value;return"function"==typeof e.click&&e.click(),"function"==typeof e.focus&&e.focus(),t&&e.value!==l&&(e.value=l),"function"==typeof e.click||"function"==typeof e.focus}function firePreSetValueEvents(e){var t=e.value;ag_focusField(e,!1),e.dispatchEvent(createKeyboardEvent(e,"keydown",0,0)),e.dispatchEvent(createKeyboardEvent(e,"keypress",0,0)),e.dispatchEvent(createKeyboardEvent(e,"keyup",0,0)),(""===e.value||e.dataset[INITIAL_VALUE_ATTRIBUTE]&&e.value===e.dataset[INITIAL_VALUE_ATTRIBUTE])&&(e.value=t)}function firePostSetValueEvents(e){var t=e.value,l=e.ownerDocument.createEvent("HTMLEvents"),n=e.ownerDocument.createEvent("HTMLEvents");e.dispatchEvent(createKeyboardEvent(e,"keydown",0,0)),e.dispatchEvent(createKeyboardEvent(e,"keypress",0,0)),e.dispatchEvent(createKeyboardEvent(e,"keyup",0,0)),n.initEvent("input",!0,!0),e.dispatchEvent(n),l.initEvent("change",!0,!0),e.dispatchEvent(l),e.blur(),(""===e.value||e.dataset[INITIAL_VALUE_ATTRIBUTE]&&e.value===e.dataset[INITIAL_VALUE_ATTRIBUTE])&&(e.value=t)}function createKeyboardEvent(e,t,l,n){let a;return isFirefox()?(a=document.createEvent("KeyboardEvent")).initKeyEvent(t,!0,!1,null,!1,!1,!1,!1,l,n):((a=e.ownerDocument.createEvent("Events")).initEvent(t,!0,!1),a.charCode=n,a.keyCode=l,a.which=l,a.srcElement=e,a.target=e),a}var DEV_MODE=!0,documentUUID=Math.random().toString(36).substr(2),FIELD_MAX_LENGTH=999,MAX_EMAIL_ADDRESS_LENGTH=254,DISPLAY_TITLE_ATTRIBUTE="onepasswordTitle",SIGN_IN_URL_ATTRIBUTE="onepasswordSignInUrl",OP_FIELD_TYPE_ATTRIBUTE="onepasswordFieldType",LOGIN_DESIGNATION_ATTRIBUTE="onepasswordDesignation",SECTION_TITLE_ATTRIBUTE="onepasswordSectionTitle",SECTION_FIELD_TITLE_ATTRIBUTE="onepasswordSectionFieldTitle",SECTION_FIELD_VALUE_ATTRIBUTE="onepasswordSectionFieldValue",SECTION_FIELD_KIND_ATTRIBUTE="onepasswordSectionFieldKind",USER_EDITED_ATTRIBUTE="com.agilebits.onepassword.userEdited";document.com_agilebits_onepassword_collect=collectFields,document.elementsByOPID={};function fieldInputListener(e){if(!1===e.isTrusted)return;let t=e.target;"input"===t.tagName.toLowerCase()&&(t.dataset[USER_EDITED_ATTRIBUTE]="yes")}document.addEventListener("input",fieldInputListener,!0);function collectFields(e){let t,l=e.defaultView?e.defaultView:window,n=e.activeElement,a=new RegExp("((\\b|_|-)pin(\\b|_|-)|password|passwort|kennwort|(\\b|_|-)passe(\\b|_|-)|contraseña|senha|密码|adgangskode|hasło|wachtwoord)","i"),r=function(e){return"string"==typeof e?e.toLowerCase():(""+e).toLowerCase()};var i=function(e,t){var l,n=e[t];return"string"==typeof n?n:"string"==typeof(l=e.getAttribute(t))?l:null},o=function(e){if("input"===e.nodeName.toLowerCase()){return-1===e.type.search(/button|submit|reset|hidden|checkbox/i)}return!1},s=Array.prototype.slice.call(ag_querySelectorAll(e,"form")).map(function(e,t){var l={},n="__form__"+t;return e.opid=n,l.opid=n,setObjectKeyWithValue(l,"htmlName",i(e,"name")),setObjectKeyWithValue(l,"htmlID",i(e,"id")),setObjectKeyWithValue(l,"htmlAction",fullyQualifiedURL(i(e,"action"))),setObjectKeyWithValue(l,"htmlMethod",i(e,"method")),l}),u=collectableFieldsInDocument(e).map(function(t,l){"use strict";o(n=t)&&n.hasAttribute("value")&&!t.dataset[INITIAL_VALUE_ATTRIBUTE]&&(t.dataset[INITIAL_VALUE_ATTRIBUTE]=t.value);var n,s={},u="__"+l,c=-1==t.maxLength?FIELD_MAX_LENGTH:t.maxLength;(!c||"number"==typeof c&&isNaN(c))&&(c=FIELD_MAX_LENGTH),e.elementsByOPID[u]=t,t.opid=u,s.opid=u,s.elementNumber=l,setObjectKeyWithValue(s,"maxLength",Math.min(c,999),999),s.visible=isVisible(t),s.viewable=isViewable(t),setObjectKeyWithValue(s,"htmlID",i(t,"id")),setObjectKeyWithValue(s,"htmlName",i(t,"name")),setObjectKeyWithValue(s,"htmlClass",i(t,"class")),setObjectKeyWithValue(s,"tabindex",i(t,"tabindex")),setObjectKeyWithValue(s,"title",i(t,"title")),setObjectKeyWithValue(s,"userEdited",!!t.dataset[USER_EDITED_ATTRIBUTE]),"hidden"!=r(t.type)&&(setObjectKeyWithValue(s,"label-tag",function(t){let l=null,n=[];if(t.labels&&t.labels.length&&t.labels.length>0)n=Array.prototype.slice.call(t.labels);else{if(t.id&&(n=n.concat(Array.prototype.slice.call(ag_querySelectorAll(e,"label[for="+JSON.stringify(t.id)+"]")))),t.name)for(var a=ag_querySelectorAll(e,"label[for="+JSON.stringify(t.name)+"]"),i=0;i<a.length;i++)-1===n.indexOf(a[i])&&n.push(a[i]);for(l=t;l&&l!=e;l=l.parentNode)"label"===r(l.tagName)&&-1===n.indexOf(l)&&n.push(l)}return 0===n.length&&"dd"===(l=t.parentNode).tagName.toLowerCase()&&null!==l.previousElementSibling&&"dt"===l.previousElementSibling.tagName.toLowerCase()&&n.push(l.previousElementSibling),n.length>0?n.map(function(e){return trimLabel(getElementText(e))}).join(""):null}(t)),setObjectKeyWithValue(s,"label-data",i(t,"data-label")),setObjectKeyWithValue(s,"label-aria",i(t,"aria-label")),setObjectKeyWithValue(s,"label-top",function(e){let t,l,n,a=e.parentElement;for(;a&&"td"!=r(a.tagName);)a=a.parentElement;if(!a||void 0===a)return null;if("tr"!=(t=a.parentElement).tagName.toLowerCase())return null;if(!(l=t.previousElementSibling)||"tr"!=(l.tagName+"").toLowerCase()||l.cells&&a.cellIndex>=l.cells.length)return null;var i=getElementText(n=l.cells[a.cellIndex]);return i=trimLabel(i)}(t)),setObjectKeyWithValue(s,"label-right",function(e){var t=[];return collectNextSiblingLabels(e,t),t.join("")}(t)),setObjectKeyWithValue(s,"label-left",function(e){var t=[];return collectPrevSiblingLabels(e,t,0),t.reverse().join("")}(t)),setObjectKeyWithValue(s,"placeholder",i(t,"placeholder")));return setObjectKeyWithValue(s,"rel",i(t,"rel")),setObjectKeyWithValue(s,"type",r(i(t,"type"))),setObjectKeyWithValue(s,"value",function(e){switch(r(e.type)){case"checkbox":return e.checked?"✓":"";case"hidden":var t=e.value;return t&&"number"==typeof t.length?(t.length>MAX_EMAIL_ADDRESS_LENGTH&&(t=t.substr(0,MAX_EMAIL_ADDRESS_LENGTH)+"...SNIPPED"),t):"";case"submit":case"button":case"reset":if(""===e.value)return trimLabel(getElementText(e))||"";default:return e.value}}(t)),setObjectKeyWithValue(s,"checked",t.checked,!1),setObjectKeyWithValue(s,"autoCompleteType",t.getAttribute("x-autocompletetype")||t.getAttribute("autocompletetype")||t.getAttribute("autocomplete"),"off"),setObjectKeyWithValue(s,"disabled",t.disabled),setObjectKeyWithValue(s,"readonly",t.readonly||t.readOnly),setObjectKeyWithValue(s,"selectInfo",function(e){let t;return e.options?{options:t=Array.prototype.slice.call(e.options).map(function(e){return[cleanLabel(e.text),e.value]})}:null}(t)),setObjectKeyWithValue(s,"aria-hidden","true"==t.getAttribute("aria-hidden"),!1),setObjectKeyWithValue(s,"aria-disabled","true"==t.getAttribute("aria-disabled"),!1),setObjectKeyWithValue(s,"aria-haspopup","true"==t.getAttribute("aria-haspopup"),!1),setObjectKeyWithValue(s,"data-unmasked",t.dataset.unmasked),setObjectKeyWithValue(s,"data-stripe",i(t,"data-stripe")),setObjectKeyWithValue(s,"data-braintree-name",i(t,"data-braintree-name")),setObjectKeyWithValue(s,OP_FIELD_TYPE_ATTRIBUTE,t.dataset[OP_FIELD_TYPE_ATTRIBUTE]||t.type),setObjectKeyWithValue(s,LOGIN_DESIGNATION_ATTRIBUTE,t.dataset[LOGIN_DESIGNATION_ATTRIBUTE]),setObjectKeyWithValue(s,SIGN_IN_URL_ATTRIBUTE,t.dataset[SIGN_IN_URL_ATTRIBUTE]),setObjectKeyWithValue(s,SECTION_TITLE_ATTRIBUTE,t.dataset[SECTION_TITLE_ATTRIBUTE]),setObjectKeyWithValue(s,SECTION_FIELD_KIND_ATTRIBUTE,t.dataset[SECTION_FIELD_KIND_ATTRIBUTE]),setObjectKeyWithValue(s,SECTION_FIELD_TITLE_ATTRIBUTE,t.dataset[SECTION_FIELD_TITLE_ATTRIBUTE]),setObjectKeyWithValue(s,SECTION_FIELD_VALUE_ATTRIBUTE,t.dataset[SECTION_FIELD_VALUE_ATTRIBUTE]),t.form&&(s.form=i(t.form,"opid")),setObjectKeyWithValue(s,"fakeTested",function(e,t){if(-1===["text","password"].indexOf(t.type.toLowerCase()))return!1;if(!(a.test(e.value)||a.test(e.htmlID)||a.test(e.htmlName)||a.test(e.placeholder)||a.test(e["label-tag"])||a.test(e["label-data"])||a.test(e["label-aria"])))return!1;if(!e.visible)return!0;if("password"==t.type.toLowerCase())return!1;var l=t.type;return ag_focusField(t,!0),l!==t.type}(s,t),!1),s});u.filter(function(e){return e.fakeTested}).forEach(function(t){var l=e.elementsByOPID[t.opid];l.getBoundingClientRect();firePreSetValueEvents(l),l.click&&l.click(),t.postFakeTestVisible=isVisible(l),t.postFakeTestViewable=isViewable(l),t.postFakeTestType=l.type,firePostSetValueEvents(l)}),t={documentUUID:documentUUID,title:e.title,url:l.location.href,documentUrl:e.location.href,tabUrl:l.location.href,forms:function(e){var t={};return e.forEach(function(e){t[e.opid]=e}),t}(s),fields:u,collectedTimestamp:(new Date).getTime()};var c=document.querySelector("[data-onepassword-title]");return c&&c.dataset[DISPLAY_TITLE_ATTRIBUTE]&&(t.displayTitle=c.dataset[DISPLAY_TITLE_ATTRIBUTE]),n&&o(n)&&ag_focusField(n,!0),t}var DEBUG_BRAIN_UTILS=!1,HIDDEN_POSITION_REGEX=/-\d{3,}px/;document.elementForOPID=elementForOPID;function attrValue(e,t){var l=null;return e&&e.attributes&&(l=(l=e.attributes[t])?l.value:null),l}function attrValueMatch(e,t,l){var n=attrValue(e,t);return n&&l.test(n)}function findAllFakePasswordFields(e){var t=new RegExp("((\\b|_|-)pin(\\b|_|-)|password|passwort|kennwort|passe|contraseña|senha|密码|adgangskode|hasło|wachtwoord)","i");return Array.prototype.slice.call(ag_querySelectorAll(e,"input[type='text']")).filter(function(e){"use strict";return e.value&&t.test(e.value)},this)}function touchAllFields(e){e.forEach(function(e){"use strict";firePreSetValueEvents(e),e.click&&e.click(),firePostSetValueEvents(e)})}function getElementText(e){return e.textContent||e.innerText}function cleanLabel(e){var t=null;return e&&(t=(t=e.toLowerCase().replace(/\s/gm,"").replace(/[~`!@$%^&*()\-_+=:;'"\[\]|\\,<.>\/?]/gm,"")).length>0?t:null),t}function trimLabel(e){var t=null;return e&&(t=(t=e.replace(/^\s+|\s+$|\r?\n.*$/gm,"").replace(/\s{2,}/," ")).length>0?t:null),t}function appendNodeTextToResult(e,t){var l,n="";3===t.nodeType?n=t.nodeValue:1===t.nodeType&&(n=getElementText(t)),(l=trimLabel(n))&&e.push(l),DEBUG_BRAIN_UTILS&&console.log("[BRAIN_UTILS] @appendNodeTextToResult: node id <"+t.id+"> of type "+t.nodeType+" appended: "+l)}function shouldStopLabelCollection(e){return!e||void 0===e||elementIs(e,["select","option","input","form","textarea","button","table","iframe","body","head","script"])}function collectPrevSiblingLabels(e,t,l){var n,a;for(l||(l=0),DEBUG_BRAIN_UTILS&&console.log("[BRAIN_UTILS] "+l+" >collectPrevSiblingLabels: "+e.tagName+":"+e.name+" for element <"+e+">");e&&e.previousSibling;){if(DEBUG_BRAIN_UTILS&&console.log("[BRAIN_UTILS] "+l+" collectPrevSiblingLabels, previousSibling: "+e.previousSibling),shouldStopLabelCollection(e=e.previousSibling))return void(DEBUG_BRAIN_UTILS&&console.log("[BRAIN_UTILS] "+l+" <collectPrevSiblingLabels, shouldStopLabelCollection(e)"));appendNodeTextToResult(t,e)}if(e&&0===t.length){for(n=null,a=e;!n;){if(a=a.parentElement||a.parentNode,DEBUG_BRAIN_UTILS&&console.log("[BRAIN_UTILS] "+l+" collectPrevSiblingLabels, parent: "+a),!a)return void(DEBUG_BRAIN_UTILS&&console.log("[BRAIN_UTILS] "+l+" <collectPrevSiblingLabels, no parent"));for(n=a.previousSibling;n&&!shouldStopLabelCollection(n)&&n.lastChild;)n=n.lastChild}if(DEBUG_BRAIN_UTILS&&n&&console.log("[BRAIN_UTILS] child: "+n.tagName+", "+n.innerHTML),shouldStopLabelCollection(n))return void(DEBUG_BRAIN_UTILS&&console.log("[BRAIN_UTILS] "+l+" <collectPrevSiblingLabels, shouldStopLabelCollection(child)"));appendNodeTextToResult(t,n),0===t.length&&collectPrevSiblingLabels(n,t,l+1)}DEBUG_BRAIN_UTILS&&console.log("[BRAIN_UTILS] "+l+" <collectPrevSiblingLabels")}function collectNextSiblingLabels(e,t){for(;e&&e.nextSibling;){if(shouldStopLabelCollection(e=e.nextSibling))return;appendNodeTextToResult(t,e)}}function elementTagName(e){return e?(e.tagName||"").toLowerCase():""}function elementIs(e,t){var l;return!!e&&(l=elementTagName(e),t.constructor==Array?t.indexOf(l)>=0:l===t)}function isVisible(e){for(var t,l=e,n=e.ownerDocument,a=n?n.defaultView:{};l&&l!==n;){if(!(t=a.getComputedStyle&&l instanceof Element?a.getComputedStyle(l,null):l.style))return!0;if("none"===t.display||"hidden"==t.visibility)return!1;l=l.parentNode}return l===n}function isViewable(e){"use strict";var t,l,n=e.ownerDocument.documentElement,a=e.getBoundingClientRect(),r=n.scrollWidth,i=n.scrollHeight,o=a.left-n.clientLeft,s=a.top-n.clientTop;if(!isVisible(e))return!1;if(!e.offsetParent)return!1;if(e.clientWidth<10||e.clientHeight<10)return!1;var u=e.getClientRects();if(DEBUG_BRAIN_UTILS&&console.log("Got "+u.length+" client rects for "+e),0===u.length)return!1;for(var c=0;c<u.length;c++){if((l=u[c]).left>r)return!1;if(l.right<0)return!1}if(o<0||o>r||s<0||s>i)return!1;var d,T;for(d=a.right>window.innerWidth?(window.innerWidth-o)/2:a.width/2,T=a.bottom>window.innerHeight?(window.innerHeight-s)/2:a.height/2,t=e.ownerDocument.elementFromPoint(o+d,s+T);t&&t!==e&&t!==document;){if(t.tagName&&"string"==typeof t.tagName&&"label"===t.tagName.toLowerCase()&&e.labels&&e.labels.length>0)return Array.prototype.slice.call(e.labels).indexOf(t)>=0;t=t.parentNode}return t===e}var XOR_OBFUSCATION_KEY=150;function xor_deobfuscate(e){var t,l,n;if(!e)return"";for(t="",l=0,n=e.length;l<n;l++)t+=String.fromCharCode(XOR_OBFUSCATION_KEY^e[l]);return t}function makeQuerySelectorSafe(e){"use strict";return e?e.replace(/([:\\.'])/g,"\\$1"):null}function collectableFieldsInDocument(e){return Array.prototype.slice.call(ag_querySelectorAll(e,"input, select, button"))}function elementForOPID(e){"use strict";var t;if(void 0===e||null===e)return null;try{var l=collectableFieldsInDocument(document),n=l.filter(function(t,l,n){return t.opid==e});if(n.length>0)t=n[0],n.length>1&&console.warn("More than one element found with opid "+e);else{var a=parseInt(e.split("__")[1],10);isNaN(a)||(t=l[a])}}catch(e){console.error("An unexpected error occurred: "+e)}finally{return t}}function ag_querySelector(e,t){let l=null;try{l=e.querySelector(t)}catch(e){DEV_MODE&&console.error(`[COLLECT FIELDS] @ag_querySelector Exception in selector ${t}`,e)}return l}function ag_querySelectorAll(e,t){var l=[];try{l=e.querySelectorAll(t)}catch(e){DEV_MODE&&console.error(`[COLLECT FIELDS] @ag_querySelectorAll Exception in selector ${t}`,e)}return l}function setObjectKeyWithValue(e,t,l,n){void 0!==n&&n===l||null!==l&&void 0!==l&&(e[t]=l)}function fullyQualifiedURL(e){var t=new URL(e,window.location.href);return t?t.href:null}