/*! Copyright 2016 Henrik Wenz <hello@allinone.com> */
!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}({0:function(e,t,n){e.exports=n(595)},595:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var r=n(596),o=i(r);window.Notification=o["default"],"www.messenger.com"===location.host&&window.requireLazy&&window.requireLazy(["MessengerDispatcher","keyMirror"],function(e,t){var n=t({CHANGE_DESKTOP_NOTIFS:null}),i=n.CHANGE_DESKTOP_NOTIFS;setTimeout(function(){e.dispatch({type:i,desktopNotifsEnabled:!0})},1e3)})},596:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o={dir:"auto",lang:"",body:"",tag:"",icon:"",badge:"",sound:"",vibrate:[]},a=t.NotificationEvent=function(){function e(t,i){var r=i.target;n(this,e),Object.defineProperties(this,{bubbles:{value:!1,writable:!1},cancelBubble:{value:!1,writable:!1},cancelable:{value:!1,writable:!1},currentTarget:{value:r,writable:!1},defaultPrevented:{value:!1,writable:!1},eventPhase:{value:0,writable:!1},isTrusted:{value:!0,writable:!1},path:{value:[],writable:!1},srcElement:{value:r,writable:!1},target:{value:r,writable:!0},timeStamp:{value:Date.now(),writable:!1},type:{value:t,writable:!1}})}return r(e,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){}},{key:"stopImmediatePropagation",value:function(){}}]),e}(),s=function(){function e(t){var i=this,r=arguments.length<=1||void 0===arguments[1]?o:arguments[1];if(n(this,e),"undefined"==typeof t)throw new TypeError("Failed to construct 'Notification': 1 argument required, but only 0 present.");this.listeners={};var s=["timestamp","renotify","silent","noscreen","requireInteraction","sticky"];Object.keys(r).filter(function(e){return s.indexOf(e)===-1}).forEach(function(e){i[e]=r[e]}),Object.defineProperties(this,{timestamp:{value:Date.now(),writable:!1},renotify:{value:void 0,writable:!1},silent:{value:void 0,writable:!1},noscreen:{value:void 0,writable:!1},requireInteraction:{value:void 0,writable:!1},sticky:{value:void 0,writable:!1}}),this.onclick=null,this.onshow=null,this.onerror=null,this.onclose=null,window.postMessage({source:"ALLINONE_MESSENGER",action:"TRIGGER_NOTIFICATION",url:location.href,payload:{title:t,options:r}},"*"),this.addEventListener("click",function(e){i.onclick&&i.onclick(e)}),this.addEventListener("show",function(e){i.onshow&&i.onshow(e)}),this.addEventListener("error",function(e){i.onerror&&i.onerror(e)}),this.addEventListener("close",function(e){i.onclose&&i.onclose(e)}),setTimeout(function(){var e=new a("show",{target:i});i.dispatchEvent(e)},10)}return r(e,[{key:"close",value:function(){}},{key:"addEventListener",value:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],i=0,r=n.length;i<r;i++)if(n[i]===t)return n.splice(i,1),this.removeEventListener(e,t)}},{key:"dispatchEvent",value:function(e){var t=i({},e);if(t.type in this.listeners){var n=this.listeners[t.type];t.target=this;for(var r=0,o=n.length;r<o;r++)n[r].call(this,t)}}}]),e}(),l="granted";s.permission=l,s.requestPermission=function(e){return e?e(l):Promise.resolve(l)},t["default"]=s}});