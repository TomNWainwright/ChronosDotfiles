/*! Copyright 2016 Henrik Wenz <hello@allinone.com> */
!function(e){function t(r){if(n[r])return n[r].exports;var u=n[r]={exports:{},id:r,loaded:!1};return e[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}({0:function(e,t,n){e.exports=n(580)},580:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var u=n(581),i=r(u),o=n(587),a=r(o);window.muteAudio=function(){(0,a["default"])("scripts/page.muteAudio.js")},window.enableNotifications=function(){(0,a["default"])("scripts/page.notificationBridge.js"),window.addEventListener("message",function(e){"ALLINONE_MESSENGER"===e.data.source&&(e.data.payload.serviceId=window.serviceInfo.id,e.data.payload.serviceType=window.serviceInfo.type,chrome.runtime.sendMessage(e.data))},!1)},window.addEventListener("DOMContentLoaded",function(){(0,a["default"])("scripts/pagescript.js"),(0,i["default"])()})},581:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(){var e=arguments.length<=0||void 0===arguments[0]?document.title:arguments[0];if(!e)return 0;var t=e.match(/^\((\d*)\)/);return t?Number(t[1]):0}function i(e,t){setInterval(function(){var n=v["default"][e],r=n();(0,f["default"])(r,t)},3e3)}function o(e,t){(0,d["default"])(function(n){var r=u(n);"messenger"===e&&document.title.indexOf("Messenger")===-1||(0,f["default"])(r,t)})}function a(){if(window.serviceInfo){var e=window.serviceInfo.type,t=window.serviceInfo.id;v["default"].hasOwnProperty(e)?i(e,t):o(e,t)}}Object.defineProperty(t,"__esModule",{value:!0});var c=n(582),d=r(c),s=n(583),f=r(s),l=n(584),v=r(l);t["default"]=a},582:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=void 0;return function(t){t();var n=document.querySelector("head > title"),r=new window.MutationObserver(function(n){n.forEach(function(n){var r=n.target.textContent;e!==r&&(e=r,t(r))})});r.observe(n,{subtree:!0,characterData:!0,childList:!0})}}();t["default"]=n},583:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=void 0,r="UPDATE_UNREAD_COUNT",u=function(e,t){n!==e&&(n=e,chrome.runtime.sendMessage({action:r,serviceId:t,unreadCount:e}))};t["default"]=u},584:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(585),i=r(u);t["default"]={slack:function(){return(0,i["default"])(".unread_msgs, #im-list .unread_highlights")},hangouts:function(){try{var e=document.querySelector("#hangout-landing-chat").lastChild,t=e.contentWindow.document.body;return t.getElementsByClassName("ee").length}catch(n){return 0}},hipchat:function(){return(0,i["default"])(".hc-badge")},steam:function(){return(0,i["default"])(".unread_message_count_value")},missive:function(){return(0,i["default"])(".unseen-count")},icq:function(){var e=(0,i["default"])(".nwa-msg-counter")-1;return e>-1?e:0}}},585:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e){return Array.from(document.querySelectorAll(e)).reduce(function(e,t){var n=(0,o["default"])(t.innerText);return n>0?e+1:e},0)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var i=n(586),o=r(i)},586:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){var t=String(e).match(/\d+/g),n=Number(Array.isArray(t)?t.join(""):t);return Number.isNaN(n)?0:n};t["default"]=n},587:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=document.createElement("script");return t.type="text/javascript",t.src=chrome.runtime.getURL(e),document.head.appendChild(t),t}}});